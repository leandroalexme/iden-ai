import {
    d as Q
} from "https://st-p.rmcdn1.net/ae5fa58f/dist/c/c-ANHQ37WT.js";
import {
    B as pe,
    D as me,
    E as Ke,
    i as se,
    j as Ue,
    p as ce,
    r as Ze,
    w as le,
    x as Je
} from "https://st-p.rmcdn1.net/ae5fa58f/dist/c/c-XWERTDGT.js";
import {
    a as ge,
    b as Ye
} from "https://st-p.rmcdn1.net/ae5fa58f/dist/c/c-UICHCARJ.js";
import {
    g as de,
    h as Xe
} from "https://st-p.rmcdn1.net/ae5fa58f/dist/c/c-6RC47BAR.js";
import {
    h as ae,
    j as He
} from "https://st-p.rmcdn1.net/ae5fa58f/dist/c/c-4ILVPUMP.js";
import {
    a as q
} from "https://st-p.rmcdn1.net/ae5fa58f/dist/c/c-BZGTW5PW.js";
import {
    j as v,
    k as Qe
} from "https://st-p.rmcdn1.net/ae5fa58f/dist/c/c-GFHV2AWM.js";
import {
    v as l,
    x as _
} from "https://st-p.rmcdn1.net/ae5fa58f/dist/c/c-2M3GYHUW.js";
import {
    a as X,
    c as Y,
    e as F,
    g as ee,
    h as De
} from "https://st-p.rmcdn1.net/ae5fa58f/dist/c/c-FZKUL5ZS.js";
import {
    s as ue,
    t as et
} from "https://st-p.rmcdn1.net/ae5fa58f/dist/c/c-LDOT7PRX.js";
import {
    d as B,
    j as ne
} from "https://st-p.rmcdn1.net/ae5fa58f/dist/c/c-OXQSN4A5.js";
import {
    d as I,
    g as Ge
} from "https://st-p.rmcdn1.net/ae5fa58f/dist/c/c-OQWTLMV5.js";
import {
    a as i,
    d as $
} from "https://st-p.rmcdn1.net/ae5fa58f/dist/c/c-P5VDGSEO.js";
import {
    b as ie,
    e as qe
} from "https://st-p.rmcdn1.net/ae5fa58f/dist/c/c-Z4HHCED6.js";
import {
    g as te,
    h as oe,
    i as A,
    j as re,
    l as _e,
    r,
    s as V
} from "https://st-p.rmcdn1.net/ae5fa58f/dist/c/c-ZCYSW665.js";
import {
    C as D,
    D as t,
    E as n,
    F as u
} from "https://st-p.rmcdn1.net/ae5fa58f/dist/c/c-6YK6Y3LS.js";
import {
    a as W
} from "https://st-p.rmcdn1.net/ae5fa58f/dist/c/c-X2AVVSDG.js";
import {
    b as K,
    c as Ae
} from "https://st-p.rmcdn1.net/ae5fa58f/dist/c/c-LURZCKUX.js";
import {
    d as R
} from "https://st-p.rmcdn1.net/ae5fa58f/dist/c/c-64BUEHBL.js";
var z = R(W());
Ze();
V();
$();
_();
u();
var tt = r(({
    className: e
}) => t("svg", {
    className: e,
    width: "11px",
    height: "18px",
    viewBox: "0 0 11 18",
    version: "1.1",
    xmlns: "http://www.w3.org/2000/svg",
    children: t("g", {
        stroke: "none",
        fill: "none",
        children: t("g", {
            transform: "translate(-1091.000000, -38.000000)",
            fill: "#FFFFFF",
            children: t("g", {
                transform: "translate(960.000000, 22.000000)",
                children: t("path", {
                    d: "M128.274372,29.4664472 L138.248322,29.4715656 C138.800423,29.4718251 139.247852,29.9194643 139.247852,30.4715655 L139.248322,30.4715655 L139.248792,30.4715655 C139.248792,31.0238503 138.801077,31.4715655 138.248792,31.4715655 C138.248635,31.4715655 138.248479,31.4715655 138.248322,31.4715654 L127.380337,31.4659885 C127.258227,31.4659311 127.141234,31.4439989 127.033064,31.4038987 C126.599329,31.2953285 126.277777,30.9034887 126.276669,30.4361503 L126.250691,19.4715627 C126.249386,18.9205865 126.694982,18.4728737 127.245958,18.4715683 C127.246746,18.4715664 127.247534,18.4715655 127.248322,18.4715655 L127.250688,18.4715655 C127.802048,18.4715655 128.249379,18.9178381 128.250686,19.4691962 L128.274372,29.4664472 Z",
                    transform: "translate(132.749740, 24.971566) scale(-1, 1) rotate(45.000000) translate(-132.749740, -24.971566) "
                })
            })
        })
    })
}))
`
  position: absolute;
  top: 14px;
  right: 16px;
  path {
    fill: ${({widget:e})=>l(e["bar-color"],e["bar-color-opacity"])};
  }
`, ot = r("button", {
    excludeProps: ["widget"]
})
`
  display: flex;
  color: ${({widget:e})=>l(e["bar-color"],e["bar-color-opacity"])};
  border-color: ${({widget:e})=>l(e["bar-color"],e["bar-color-opacity"]*.45)};
  background-color: ${({widget:e})=>l(e["bar-background-color"],e["bar-background-color-opacity"])};
  width: 100%;
  margin-top: 20px;
  justify-content: center;
  align-items: center;
  height: 50px;
  line-height: 50px;
  vertical-align: middle;
  box-sizing: border-box;
  position: relative;
  font-size: 0.75em;
  border-width: 2px;
  border-style: solid;
  border-radius: 25px;
  text-align: center;
  letter-spacing: -0.08px;
  user-select: none;
  cursor: pointer;
`, rt = r(i, {
    excludeProps: ["widget"]
})
`
  position: relative;
  font-family: ${({widget:e})=>e["bar-font-family"]};
  font-weight: ${({widget:e})=>e["bar-font-weight"]};
  font-style: ${({widget:e})=>e["bar-font-style"]};
  font-size: ${({widget:e})=>(e["bar-font-size-factor"]||1)*16}px;
  max-width: 168px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`;

function fe({
    widget: e,
    text: o,
    onClick: c
}) {
    return n(ot, {
        widget: e,
        onClick: c,
        children: [t(rt, {
            widget: e,
            top: e["bar-button-baseline"] ? ? 0,
            children: o ? ? e["bar-checkout"]
        }), t(tt, {
            widget: e
        })]
    })
}
V();
$();
var be = r(i)
`
  position: absolute;
  height: 50px;
  width: 50px;
  border-radius: 50%;
  margin-left: 0;
  background-color: hsla(0, 0%, 50.2%, 0.96);
  text-decoration: none;
  overflow: hidden;
  z-index: 130;
  cursor: pointer;
  display: block;
  top: 16px;
  bottom: auto;
  left: -74px;
  transition: background-color 0.2s ease;

  &:hover {
    background-color: #313131;
  }

  &:before,
  &:after {
    content: ' ';
    position: absolute;
    top: 24px;
    right: 15px;
    width: 20px;
    height: 2px;
    border-radius: 1px;
    background: #fff;
  }

  &:before {
    transform: rotate(45deg);
  }
  &:after {
    transform: rotate(-45deg);
  }
`;
V();
$();
Ge();
_e();

function he(e) {
    return 16 * (e["bar-font-size-factor"] || 1)
}

function G(e) {
    return oe(e) < .05 && A("#fff", e) - A("#000", e) >= 8 ? re(.1, e) : te(.1, e)
}
_();
ne();
u();
var L = r(i)
`
  padding: 33px 16px 0 31px;
  font-size: 1.5em;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  ${B({padding:"22px 16px 0 32px"})}
`, ye = r(i)
`
  padding: 17px 16px;
`, Ce = r(i, {
    excludeProps: ["isVisible", "widget"]
})
`
  position: fixed;
  width: 280px;
  height: 100%;
  top: 0;
  right: ${({isVisible:e})=>e?0:I(-285)};
  transition: right 300ms ease;
  z-index: ${200};
  font-size: ${({widget:e})=>I(he(e))};
  background-color: ${({widget:e})=>l(e["bar-background-color"],e["bar-background-color-opacity"])};
  color: ${({widget:e})=>l(e["bar-color"],e["bar-color-opacity"])};
  font-family: ${({widget:e})=>e["bar-font-family"]};
  font-weight: ${({widget:e})=>e["bar-font-weight"]};
  font-style: ${({widget:e})=>e["bar-font-style"]};
  box-shadow: ${({widget:e})=>e["bar-shadow"]?"0 0 4px rgba(124, 124, 125, 0.5)":"none"};
  line-height: 1;
  ${({isVisible:e})=>B({width:I(240),right:e?0:I(-245)})};
`, we = r(i)
`
  height: 100%;
  overflow-x: hidden;
  overflow-y: auto;
  ${Q()}
`, H = r(i)
`
  font-size: 1.5em;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  text-align: center;
`, xe = r(H)
`
  font-size: 0.75em;
  margin-top: 10px;
`, nt = r("a")
`
  text-decoration: underline;
`, Se = r(i, {
    excludeProps: ["widget"]
})
`
  display: flex;
  flex-direction: column;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 0 16px;
  text-align: center;
  align-items: center;
  justify-content: center;
  font-family: ${({widget:e})=>e["bar-font-family"]};
  ${Q()}
`;

function Ee({
    widget: e,
    text: o
}) {
    return t(Se, {
        widget: e,
        children: t(H, {
            children: o ? ? e["bar-empty\u0421artTitle"]
        })
    })
}

function ke({
    widget: e,
    customerPortalUrl: o
}) {
    return n(Se, {
        widget: e,
        children: [t(H, {
            children: "Payment completed"
        }), t(xe, {
            children: "Check your email for details"
        }), o && t(xe, {
            children: t(nt, {
                href: o,
                children: "Manage your subscription"
            })
        })]
    })
}
V();
$();
_();
ne();
u();
var at = r(i, {
    excludeProps: ["widget"]
})
`
  width: 12px;
  height: 12px;
  position: absolute;
  top: 16px;
  right: 16px;
  cursor: pointer;
  visibility: hidden;

  &:before,
  &:after {
    content: ' ';
    position: absolute;
    top: 4px;
    right: -1px;
    width: 14px;
    height: 2px;
    border-radius: 1px;
    background-color: ${({widget:e})=>l(e["bar-color"],e["bar-color-opacity"])};
  }

  &:before {
    transform: rotate(45deg);
  }
  &:after {
    transform: rotate(-45deg);
  }
`, st = r(i)
`
  width: 34px;
  height: 10px;
  position: absolute;
  bottom: 20px;
  right: 17px;
  visibility: hidden;
  display: flex;
  justify-content: space-between;
`, Pe = r(i, {
    excludeProps: ["widget"]
})
`
  width: 10px;
  height: 10px;
  position: relative;
  cursor: pointer;

  &:before,
  &:after {
    content: ' ';
    position: absolute;
    border-radius: 1px;
    background-color: ${({widget:e})=>l(e["bar-color"],e["bar-color-opacity"])};
  }
`, ct = r(Pe)
`
  width: 10px;
  height: 10px;
  position: relative;

  &:before {
    top: 4px;
    width: 100%;
    height: 2px;
  }
`, lt = r(Pe)
`
  margin-left: auto;

  &:before {
    top: 4px;
    width: 100%;
    height: 2px;
  }

  &:after {
    width: 2px;
    left: 4px;
    height: 100%;
  }
`, pt = r(i, {
    excludeProps: ["widget"]
})
`
  padding: 16px;
  position: relative;
  box-sizing: border-box;
  border-radius: 8px;
  transition: background-color 0.1s linear;
  margin-bottom: 4px;

  ${({widget:e})=>B({backgroundColor:G(l(e["bar-background-color"],e["bar-background-color-opacity"])),'[role="button"]':{visibility:"visible"}})};

  &:hover {
    background-color: ${({widget:e})=>G(l(e["bar-background-color"],e["bar-background-color-opacity"]))};

    [role='button'] {
      visibility: visible;
    }
  }
`, mt = r(i, {
    excludeProps: ["url"]
})
`
  width: 48px;
  height: 48px;
  background-position: center center;
  background-size: cover;
  background-repeat: no-repeat;
  background-image: url(${({url:e})=>e});
  margin-bottom: 11px;
`, dt = r(i)
`
  font-size: 1em;
  margin-bottom: 11px;
`, gt = r(i)
`
  font-size: 0.75em;
  margin-bottom: 4px;
`, U = r(i)
`
  max-width: 120px;
  display: inline-block;
  font-size: 0.75em;
  vertical-align: middle;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`, ve = r(U)
`
  display: inline;
  white-space: initial;
`;

function Te({
    product: e,
    widget: o,
    onRemove: c,
    onDecrease: C,
    onIncrease: f,
    priceText: w,
    quantityText: d
}) {
    let s = e.nameTranslated || e.name,
        x = e.image,
        p = e.cartQuantity,
        k = q(e.price, e.currency),
        P = q(e.price * p, e.currency),
        b = p > 1 ? `${k} \xD7 ${p} = ${P}` : `${k}`;
    return n(pt, {
        widget: o,
        children: [x && t(mt, {
            url: x
        }), t(dt, {
            children: s
        }), e.optionsTranslated && Object.entries(e.optionsTranslated).map(([m, S]) => n(gt, {
            children: [m, ": ", S]
        }, m)), n(i, {
            paddingTop: 2,
            paddingBottom: 4,
            children: [t(U, {
                children: w ? ? o["bar-price"]
            }), n(ve, {
                children: [":\xA0", b]
            })]
        }), n(i, {
            children: [t(U, {
                children: d ? ? o["bar-quantity"]
            }), n(ve, {
                children: [":\xA0", p]
            })]
        }), t(at, {
            widget: o,
            onClick: c,
            "aria-label": "Remove item",
            role: "button"
        }), n(st, {
            role: "button",
            children: [p > 1 && t(ct, {
                widget: o,
                onClick: C,
                "aria-label": "Decrease number"
            }), t(lt, {
                widget: o,
                onClick: f,
                "aria-label": "Increase number"
            })]
        })]
    })
}
Ue();
Ke();
et();
He();
Je();
Qe();
Xe();
qe();
Ae();
u();
var Ie = 0,
    ut = K.defaultSidebarTexts.empty\ u0421artTitle;

function ft({
    project: e,
    cartTitle: o,
    emptyText: c,
    buttonText: C,
    priceText: f,
    quantityText: w
}) {
    if (!ae(a => a.meta.owner.permissions).can_use_e_commerce) return null;
    let {
        cartItems: s,
        removeFromCart: x,
        increaseCartItem: p,
        decreaseCartItem: k,
        resetCart: P,
        isPaymentComplete: b,
        setPaymentComplete: m,
        customerPortalUrl: S,
        setCustomerPortalUrl: T
    } = me(), {
        isSidebarVisible: E,
        changeCartSidebarVisibility: N
    } = pe(), {
        ecommerceManager: M
    } = se(), {
        sendEvent: h
    } = le(), g = (0, z.useMemo)(() => ce(e), [e]), {
        lockScroll: j,
        unlockScroll: We
    } = ue();
    if (!g) return null;
    (0, z.useEffect)(() => {
        if (E) {
            j();
            try {
                h("view_cart", v(Object.values(s)))
            } catch (a) {
                console.error("Cannot send GA analytics: ", a)
            }
        } else We()
    }, [E]);

    function Fe() {
        m(!1), T(""), N(!1)
    }

    function Ve(a) {
        let y = x(a);
        if (y) try {
            h("remove_from_cart", v([y]))
        } catch (Oe) {
            console.error("Cannot send GA analytics: ", Oe)
        }
    }

    function Le(a) {
        p(a)
    }

    function Me(a) {
        k(a)
    }

    function je() {
        try {
            h("begin_checkout", v(Object.values(s)))
        } catch (y) {
            console.error("Cannot send GA analytics: ", y)
        }
        N(!1);
        let a = "stripePurchaseEvent";
        if ("sessionStorage" in window) {
            let y = v(Object.values(s));
            window.sessionStorage.setItem(a, JSON.stringify(y))
        }
        M.goToCheckout(s, () => {
            Ie = document.documentElement.scrollTop
        }, () => {
            try {
                h("purchase", v(Object.values(s)))
            } catch (y) {
                console.error("Cannot send GA analytics: ", y)
            }
            P()
        }, () => {
            document.documentElement.scrollTop = Ie
        })
    }
    let J = Object.keys(s),
        O = J.length;
    return (0, z.useEffect)(() => {
        O && (m(!1), T(null))
    }, [O]), n(Ce, {
        isVisible: E,
        widget: g,
        "aria-label": "eCommerce cart",
        children: [E && t(de, {
            indent: 5,
            text: t(ie, {
                textStyle: "small",
                fontFamily: "main",
                children: "Close cart"
            }),
            componentsProps: {
                tooltip: {
                    backgroundColor: "#313131"
                },
                arrow: {
                    color: "#313131"
                }
            },
            placement: "bottom",
            children: t(be, {
                onClick: Fe
            })
        }), O ? n(we, {
            children: [t(L, {
                children: o ? ? g["bar-title"]
            }), n(ye, {
                children: [J.map(a => t(Te, {
                    product: s[a],
                    widget: g,
                    priceText: f,
                    quantityText: w,
                    onRemove: () => Ve(a),
                    onIncrease: () => Le(a),
                    onDecrease: () => Me(a)
                }, a)), t(fe, {
                    widget: g,
                    text: C,
                    onClick: je
                })]
            })]
        }) : b ? n(D, {
            children: [o ? t(L, {
                children: o
            }) : null, t(ke, {
                widget: g,
                customerPortalUrl: S
            })]
        }) : n(D, {
            children: [o ? t(L, {
                children: o
            }) : null, t(Ee, {
                widget: g,
                text: c ? ? ut
            })]
        })]
    })
}
var ao = ft;
var $e = R(W());

function Be(e = "idle") {
    let [o, c] = (0, $e.useState)(e);
    return {
        status: o,
        setStatus: c,
        isIdle: o === "idle",
        isPending: o === "pending",
        isError: o === "error",
        isSuccess: o === "success"
    }
}
$();
Ye();
var Z = R(W());
var ze = R(W());

function Ne({
    src: e,
    onError: o
}) {
    let {
        isError: c,
        isPending: C,
        setStatus: f
    } = Be("pending");
    return (0, ze.useEffect)(function() {
        if (!e) return;
        f("pending");
        let d = new Image;
        return d.src = e, d.onload = () => {
                f("success")
            }, d.onerror = () => {
                f("error"), o ? .()
            },
            function() {
                d.onload = null, d.onerror = null
            }
    }, [e, o]), e ? {
        isPending: C,
        isError: c
    } : {
        isPending: !1,
        isError: !1
    }
}
De();
u();
var Re = {
    small: {
        width: 88,
        height: 56
    },
    standard: {
        width: 192,
        height: 124
    },
    phone_portrait: {
        small: {
            width: 32,
            height: 56
        },
        standard: {
            width: 70,
            height: 124
        }
    },
    tablet_portrait: {
        small: {
            width: 46,
            height: 56
        },
        standard: {
            width: 103,
            height: 124
        }
    }
};

function xo({
    desktopUrl: e,
    phonePortraitUrl: o,
    tabletPortraitUrl: c,
    phoneViewportEnabled: C,
    tabletViewportEnabled: f,
    opacity: w,
    blur: d = !1,
    viewport: s,
    imageSize: x = "standard",
    customBox: p,
    borderRadius: k = 4,
    onLoadError: P
}) {
    let b = !!(s === "phone_portrait" && o) && C,
        m = !!(s === "tablet_portrait" && c) && f,
        S = (0, Z.useMemo)(() => {
            let h = b ? o : m ? c : e;
            if (!h) return null;
            let g = Y(h);
            if (!g || Number.isNaN(Number(g))) {
                let j = b ? F("half", "phone_portrait") : m ? F("quarter", "tablet_portrait") : F("quarter", "default");
                return X(h, j)
            }
            return h
        }, [e, o, c, b, m]),
        {
            width: T,
            height: E
        } = (0, Z.useMemo)(() => s === "default" ? Re[x] : ee(m ? "tablet_portrait" : b ? "phone_portrait" : "default", Re[x]), [x, b, m, s]),
        {
            isError: N,
            isPending: M
        } = Ne({
            src: S,
            onError: P
        });
    return !S || N || M ? t(i, {
        position: "relative",
        width: p ? .width || T,
        height: p ? .height || E
    }) : n(i, {
        width: "100%",
        height: "100%",
        position: "relative",
        display: "flex",
        alignItems: "center",
        justifyContent: "center",
        children: [t(ge, {
            width: p ? .width || T,
            height: p ? .height || E,
            margin: "auto",
            borderRadius: `${k}px`,
            opacity: w !== void 0 ? w : 1,
            filter: `blur(${d?"1px":0})`,
            display: "block",
            src: S
        }), t(i, {
            width: "100%",
            height: "100%",
            position: "absolute",
            top: 0,
            left: 0
        })]
    })
}
export {
    Be as a, Re as b, xo as c, ao as d
};